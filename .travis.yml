dist: xenial
language: node_js
node_js:
- 11
- 10
- 8
jobs:
  include:
  - stage: publish code coverage
    node_js: '8'
    script:
    - npm run test:coverage
    - npm run report-coverage-to-coveralls
  - stage: release docs
    if: type != pull_request AND branch = master
    node_js: '8'
    script:
    - npm run generate-docs
    - npm run travis-deploy-github-pages
deploy:
  provider: npm
  email: fieldju@gmail.com
  api_key:
    secure: FKW/7W6kER4cnxKBjYAFxlYtKj/1uCfHoKAEthwzQYVyMNbF3b9NAOKZDlBq+LUC7MZ2J/yQ34Ehuhb4WB5sbfwotLZRew5RNAAkJTcLvPjggyIdcgeqzGKLpUCglo94fNpr4feBlEmwFde9DC6aC61KfQkD8XGuOkykoj0IgYYRAy+wVv/p+ZtXCcaNIfwomAByAQRjlYkGE47Khtm65C5Zqw0oNPIDkd9qUBF7163NFBdDsIzzBoCsHjP9otCbQxQxnL22Ugtr7EdZkntbuQxw7PtxWoRvZDC/QZLRt5n8xyRvVDj3zwGmVBGvFzRcp1iTEZqhIwB6/IUSEU+aLnmQ7iKG1H0sNoZtprlmuC4JrnHSchc2e9xWrcgJDZZ9VvLCxWJ4vTlr+JxCrsaPh8zN77bfbREBGdPWebbTr1A0cQWRKtw+tdaRxtW1ZTQ9NEx8d/Ce1fDnM33iSbnaUJB5ikJCrAXYyCxgWUilJiV7oQ3URvprop5y2cNWDBQ8gtxcTnlprX8dT/09I0Ah6pBmyM0BJrb6Pa4VlcYvE6toufsvGRG8CCeJba/vPro87RlnHLk3TPaSKitJpebKxhh2pDa0WrL2BHonyxPiyq3yvffh66yYXfbUZN6EACJK65pVmO4/7Qd5Up2o1Mp3x6ARPjUqvy8zwvZqJR/plTo=
  on:
    tags: true
    repo: Nike-Inc/cerberus-node-client
